{
  "type": "excalidraw",
  "version": 2,
  "source": "https://marketplace.visualstudio.com/items?itemName=pomdtr.excalidraw-editor",
  "elements": [
    {
      "type": "text",
      "version": 243,
      "versionNonce": 690265702,
      "isDeleted": false,
      "id": "yRoAVXPXj3kLsPGR2q_1C",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 746.1272888183594,
      "y": 94.48811340332031,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 628.5957641601562,
      "height": 45,
      "seed": 297876085,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 36,
      "fontFamily": 1,
      "text": "Design a Distributed Job Scheduler",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Design a Distributed Job Scheduler",
      "lineHeight": 1.25,
      "baseline": 32,
      "index": "a0",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 275,
      "versionNonce": 1606902522,
      "isDeleted": false,
      "id": "XEcHOmuCrGsCpkybPXv0S",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 230.1456298828125,
      "y": 157.7638397216797,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 1660.55908203125,
      "height": 20,
      "seed": 599848891,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "A job scheduler is a program that automatically schedules and executes jobs at specified times or intervals. It is used to automate repetitive tasks, run scheduled maintenance, or execute batch processes.",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "A job scheduler is a program that automatically schedules and executes jobs at specified times or intervals. It is used to automate repetitive tasks, run scheduled maintenance, or execute batch processes.",
      "lineHeight": 1.25,
      "baseline": 14,
      "index": "a1",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 1636,
      "versionNonce": 1829757350,
      "isDeleted": false,
      "id": "S9f-ZMj02HMSY2tgz_9gn",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 237.1328125,
      "y": 369.4815673828125,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 917.3434448242188,
      "height": 920,
      "seed": 273404245,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Functional Requirements\n- Users should be able to schedule jobs to be executed immediately, at a future data, or on a recurring schedule.\n- Users should be able to monitor the status of their jobs\n\n--- out of scope ---\n- Users should be able to cancel or reschedule jobs\n\n\nNon Functional Requirements\n- System should be highly available\n- System should execute jobs within 2s of their scheduled time\n- System should be scalable to support up to 10K jobs per second\n- System should ensure atleast once execution of jobs \n\n--- out of scope ---\n- System should enforce security policies\n- System should have a CI/CD pipeline\n\n\nCore Entities\n- Task\n- Job\n- Schedule\n- User\n\n\nAPIs\n- // create a job\nPOST /jobs\nbody: {\n    taskId\n    schedule\n    parameters\n}\n\n- // query jobs status\nGET /jobs?userId={user_id}&status={status}&startTime={start_time}&endTime={end_time} -> Job[]\n\n\nData Flow\n1. A users schedules a job by providing the task to be executed, the schedule for when the task should be \n    executed, and the parameters needed to execute the task.\n2. The job is persited in the system.\n3. The job is picked up by a worker and executed at the scheduled time.\n    - If the job fails, it is retried with exponential backoff.\n4. Update the job status in the system.",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Functional Requirements\n- Users should be able to schedule jobs to be executed immediately, at a future data, or on a recurring schedule.\n- Users should be able to monitor the status of their jobs\n\n--- out of scope ---\n- Users should be able to cancel or reschedule jobs\n\n\nNon Functional Requirements\n- System should be highly available\n- System should execute jobs within 2s of their scheduled time\n- System should be scalable to support up to 10K jobs per second\n- System should ensure atleast once execution of jobs \n\n--- out of scope ---\n- System should enforce security policies\n- System should have a CI/CD pipeline\n\n\nCore Entities\n- Task\n- Job\n- Schedule\n- User\n\n\nAPIs\n- // create a job\nPOST /jobs\nbody: {\n    taskId\n    schedule\n    parameters\n}\n\n- // query jobs status\nGET /jobs?userId={user_id}&status={status}&startTime={start_time}&endTime={end_time} -> Job[]\n\n\nData Flow\n1. A users schedules a job by providing the task to be executed, the schedule for when the task should be \n    executed, and the parameters needed to execute the task.\n2. The job is persited in the system.\n3. The job is picked up by a worker and executed at the scheduled time.\n    - If the job fails, it is retried with exponential backoff.\n4. Update the job status in the system.",
      "lineHeight": 1.25,
      "baseline": 914,
      "index": "a2",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 36,
      "versionNonce": 362083258,
      "isDeleted": false,
      "id": "wfu2SyGtKTeX5W1v0eA60",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 234.302734375,
      "y": 224.70962524414062,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 1441.103271484375,
      "height": 120,
      "seed": 1349582747,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "There are two key terms worth defining before we jump into solving the problem:\nTask: A task is the abstract concept of work to be done. For example, \"send an email\". Tasks are reusable and can be executed multiple times by different jobs.\nJob: A job is an instance of a task. It is made up of the task to be executed, the schedule for when the task should be executed, and parameters needed to execute the task. \n      For example, if the task is \"send an email\" then a job could be \"send an email to john@example.com at 10:00 AM Friday\".\nThe main responsibility of a job scheduler is to take a set of jobs and execute them according to the schedule.\n",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "There are two key terms worth defining before we jump into solving the problem:\nTask: A task is the abstract concept of work to be done. For example, \"send an email\". Tasks are reusable and can be executed multiple times by different jobs.\nJob: A job is an instance of a task. It is made up of the task to be executed, the schedule for when the task should be executed, and parameters needed to execute the task. \n      For example, if the task is \"send an email\" then a job could be \"send an email to john@example.com at 10:00 AM Friday\".\nThe main responsibility of a job scheduler is to take a set of jobs and execute them according to the schedule.\n",
      "lineHeight": 1.25,
      "baseline": 114,
      "index": "a3",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 106,
      "versionNonce": 1899019494,
      "isDeleted": false,
      "id": "XX5E2P9A9VOKaiyxS3RaE",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 417.997802734375,
      "y": 750.7293090820312,
      "strokeColor": "#1971c2",
      "backgroundColor": "transparent",
      "width": 1017.599365234375,
      "height": 20,
      "seed": 691755515,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "I'm going to start with just a simple list, but as we get to the high-level design, I'll document the data model more thoroughly.",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "I'm going to start with just a simple list, but as we get to the high-level design, I'll document the data model more thoroughly.",
      "lineHeight": 1.25,
      "baseline": 14,
      "index": "a4",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 170,
      "versionNonce": 82996346,
      "isDeleted": false,
      "id": "uN37Arosu7tEzuaGO2OAa",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 855.2613525390625,
      "y": 1215.10986328125,
      "strokeColor": "#2f9e44",
      "backgroundColor": "transparent",
      "width": 737.5035400390625,
      "height": 60,
      "seed": 827825301,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Exponential Backoff\n    - A retry strategy where the wait time doubles after each failure (e.g., 1s, 2s, 4s, ...). \n    - Often combined with jitter to prevent synchronized retries and reduce system overload.",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Exponential Backoff\n    - A retry strategy where the wait time doubles after each failure (e.g., 1s, 2s, 4s, ...). \n    - Often combined with jitter to prevent synchronized retries and reduce system overload.",
      "lineHeight": 1.25,
      "baseline": 54,
      "index": "a5",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 32,
      "versionNonce": 1259614246,
      "isDeleted": false,
      "id": "6WxDXFy1nL4tcoGXx_Ef8",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 237.1328125,
      "y": 1327.8806762695312,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 1907.0367431640625,
      "height": 20,
      "seed": 2013027035,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",
      "lineHeight": 1.25,
      "baseline": 14,
      "index": "a6",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 192,
      "versionNonce": 1134742842,
      "isDeleted": false,
      "id": "ylWYQmKQAVo5skCalzYXR",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 237.53973388671875,
      "y": 2280.2440490722656,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 1907.0367431640625,
      "height": 20,
      "seed": 220008251,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",
      "lineHeight": 1.25,
      "baseline": 14,
      "index": "a7",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 221,
      "versionNonce": 1453800294,
      "isDeleted": false,
      "id": "jMT6f6eRMwHa4hCDSoo5F",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 237.53973388671875,
      "y": 3298.435516357422,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 1907.0367431640625,
      "height": 20,
      "seed": 2034064661,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",
      "lineHeight": 1.25,
      "baseline": 14,
      "index": "a8",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 347,
      "versionNonce": 923342330,
      "isDeleted": false,
      "id": "zhVva42ddPE2Lo6CX147G",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 237.53973388671875,
      "y": 4528.440368652344,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 1907.0367431640625,
      "height": 20,
      "seed": 2131850491,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",
      "lineHeight": 1.25,
      "baseline": 14,
      "index": "a9",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 402,
      "versionNonce": 1781980838,
      "isDeleted": false,
      "id": "nUFLtd1LyJPHkAQ6Kww_0",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 237.53973388671875,
      "y": 5163.829528808594,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 1907.0367431640625,
      "height": 20,
      "seed": 1554981563,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",
      "lineHeight": 1.25,
      "baseline": 14,
      "index": "aA",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 88,
      "versionNonce": 539510458,
      "isDeleted": false,
      "id": "bRhA7Etd4gN-ltkcucjR5",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 237.1328125,
      "y": 1366.6370239257812,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 319.0078125,
      "height": 40,
      "seed": 1871407451,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "High Level Design\n1. Users should be able to schedule jobs",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "High Level Design\n1. Users should be able to schedule jobs",
      "lineHeight": 1.25,
      "baseline": 34,
      "index": "aB",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 219,
      "versionNonce": 175118822,
      "isDeleted": false,
      "id": "GE50TjCsmIgIDAkqBHfxP",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 237.53973388671875,
      "y": 2324.6221618652344,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 481.91973876953125,
      "height": 40,
      "seed": 711644661,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "High Level Design\n2. Users should be able to monitor the status of their jobs",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "High Level Design\n2. Users should be able to monitor the status of their jobs",
      "lineHeight": 1.25,
      "baseline": 34,
      "index": "aC",
      "autoResize": true
    },
    {
      "type": "rectangle",
      "version": 507,
      "versionNonce": 665018234,
      "isDeleted": false,
      "id": "DMHHrhtoYE_re9aPvlEKq",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 243.0880126953125,
      "y": 2944.9208068847656,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 136.7464599609375,
      "height": 73.51116943359376,
      "seed": 1449113531,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 3
      },
      "boundElements": [
        {
          "id": "Rusq1q-HYGdXt7CIGLiN9",
          "type": "text"
        },
        {
          "id": "IH5yRMmopeaEOdQoiJrsZ",
          "type": "arrow"
        }
      ],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "index": "aD"
    },
    {
      "type": "text",
      "version": 465,
      "versionNonce": 509603110,
      "isDeleted": false,
      "id": "Rusq1q-HYGdXt7CIGLiN9",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 291.90655517578125,
      "y": 2971.6763916015625,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 39.109375,
      "height": 20,
      "seed": 174388597,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Client",
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "DMHHrhtoYE_re9aPvlEKq",
      "originalText": "Client",
      "lineHeight": 1.25,
      "baseline": 15,
      "index": "aE",
      "autoResize": true
    },
    {
      "type": "rectangle",
      "version": 849,
      "versionNonce": 1774018618,
      "isDeleted": false,
      "id": "WfrJ2P5FsgurwWGPuTSzV",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 251.19049072265625,
      "y": 4369.855682373047,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 136.7464599609375,
      "height": 73.51116943359376,
      "seed": 1757164731,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 3
      },
      "boundElements": [
        {
          "id": "RIGjiQfOgT8PpjCBJCcE0",
          "type": "text"
        },
        {
          "id": "PiS1jxMCt5hW139GvZlK-",
          "type": "arrow"
        }
      ],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "index": "aF"
    },
    {
      "type": "text",
      "version": 806,
      "versionNonce": 594761830,
      "isDeleted": false,
      "id": "RIGjiQfOgT8PpjCBJCcE0",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 300.009033203125,
      "y": 4396.611267089844,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 39.109375,
      "height": 20,
      "seed": 937085045,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Client",
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "WfrJ2P5FsgurwWGPuTSzV",
      "originalText": "Client",
      "lineHeight": 1.25,
      "baseline": 15,
      "index": "aG",
      "autoResize": true
    },
    {
      "type": "rectangle",
      "version": 714,
      "versionNonce": 39405818,
      "isDeleted": false,
      "id": "2WTIY4D4jinfyR6zMekDb",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 245.0753173828125,
      "y": 1936.5078125,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 136.7464599609375,
      "height": 73.51116943359376,
      "seed": 246091675,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 3
      },
      "boundElements": [
        {
          "id": "IK_1aSr2qsU68PCVQVH2h",
          "type": "text"
        },
        {
          "id": "YeBvqbVVMpqcsBqEgP7Sn",
          "type": "arrow"
        }
      ],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "index": "aH"
    },
    {
      "type": "text",
      "version": 673,
      "versionNonce": 1635212198,
      "isDeleted": false,
      "id": "IK_1aSr2qsU68PCVQVH2h",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 293.89385986328125,
      "y": 1963.2633972167969,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 39.109375,
      "height": 20,
      "seed": 1359186837,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Client",
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "2WTIY4D4jinfyR6zMekDb",
      "originalText": "Client",
      "lineHeight": 1.25,
      "baseline": 15,
      "index": "aI",
      "autoResize": true
    },
    {
      "type": "rectangle",
      "version": 529,
      "versionNonce": 419043770,
      "isDeleted": false,
      "id": "rMkVQNUtJt37JI5lexOCb",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 480.3753662109375,
      "y": 2926.6481018066406,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 223.8717041015625,
      "height": 110.05657958984375,
      "seed": 1923549275,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 3
      },
      "boundElements": [
        {
          "id": "e4PVjomUYcxVherI8X7nU",
          "type": "text"
        },
        {
          "id": "IH5yRMmopeaEOdQoiJrsZ",
          "type": "arrow"
        },
        {
          "id": "DQuKWKJfFG_oNsw3to9ds",
          "type": "arrow"
        }
      ],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "index": "aJ"
    },
    {
      "type": "text",
      "version": 522,
      "versionNonce": 2138311718,
      "isDeleted": false,
      "id": "e4PVjomUYcxVherI8X7nU",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 541.9592437744141,
      "y": 2961.6763916015625,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 100.70394897460938,
      "height": 40,
      "seed": 896564949,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901194623,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Job Schedule\nService",
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "rMkVQNUtJt37JI5lexOCb",
      "originalText": "Job Schedule\nService",
      "lineHeight": 1.25,
      "baseline": 35,
      "index": "aK",
      "autoResize": true
    },
    {
      "type": "rectangle",
      "version": 881,
      "versionNonce": 1343628218,
      "isDeleted": false,
      "id": "P9dipwvq4fDgU8r16lwbd",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 489.3225860745697,
      "y": 4351.029818405383,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 223.8717041015625,
      "height": 110.05657958984375,
      "seed": 1584129371,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 3
      },
      "boundElements": [
        {
          "id": "z13k1MTlhZUX39gVSVzHF",
          "type": "text"
        },
        {
          "id": "PiS1jxMCt5hW139GvZlK-",
          "type": "arrow"
        },
        {
          "id": "0bSIUhJkltCBDDSqaW-bK",
          "type": "arrow"
        },
        {
          "id": "p6P0IdhLMUWDKJIvs3cFJ",
          "type": "arrow"
        }
      ],
      "updated": 1741901220228,
      "link": null,
      "locked": false,
      "index": "aL"
    },
    {
      "type": "text",
      "version": 866,
      "versionNonce": 51411194,
      "isDeleted": false,
      "id": "z13k1MTlhZUX39gVSVzHF",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 550.9064636380463,
      "y": 4386.058108200305,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 100.70394897460938,
      "height": 40,
      "seed": 2058613205,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901220424,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Job Schedule\nService",
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "P9dipwvq4fDgU8r16lwbd",
      "originalText": "Job Schedule\nService",
      "lineHeight": 1.25,
      "baseline": 35,
      "index": "aM",
      "autoResize": true
    },
    {
      "type": "rectangle",
      "version": 734,
      "versionNonce": 1618375482,
      "isDeleted": false,
      "id": "Dam31m8m7z7D31y64x585",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 482.3626708984375,
      "y": 1918.235107421875,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 223.8717041015625,
      "height": 110.05657958984375,
      "seed": 1534878779,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 3
      },
      "boundElements": [
        {
          "id": "67IlCsVKFLCVSPJbs7dSg",
          "type": "text"
        },
        {
          "id": "YeBvqbVVMpqcsBqEgP7Sn",
          "type": "arrow"
        },
        {
          "id": "tUYaS3Fojzc_b5YrdjBp-",
          "type": "arrow"
        }
      ],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "index": "aN"
    },
    {
      "type": "text",
      "version": 730,
      "versionNonce": 1028185067,
      "isDeleted": false,
      "id": "67IlCsVKFLCVSPJbs7dSg",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 543.9465484619141,
      "y": 1953.2633972167969,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 100.70394897460938,
      "height": 40,
      "seed": 1947685109,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1742598241697,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Job Schedule\nService",
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "Dam31m8m7z7D31y64x585",
      "originalText": "Job Schedule\nService",
      "lineHeight": 1.25,
      "baseline": 35,
      "index": "aO",
      "autoResize": true
    },
    {
      "type": "rectangle",
      "version": 665,
      "versionNonce": 108526586,
      "isDeleted": false,
      "id": "dUaJTi7XBWeU205ZumNxk",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 482.43548583984375,
      "y": 3164.557891845703,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 223.8717041015625,
      "height": 110.05657958984375,
      "seed": 1996178683,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 3
      },
      "boundElements": [
        {
          "id": "RmXuFtswdyVsvIFbKOcSf",
          "type": "text"
        },
        {
          "id": "IH5yRMmopeaEOdQoiJrsZ",
          "type": "arrow"
        },
        {
          "id": "DQuKWKJfFG_oNsw3to9ds",
          "type": "arrow"
        },
        {
          "id": "Xh730Cy3heIEVFSlupc1e",
          "type": "arrow"
        },
        {
          "id": "ziesdlYCKzkZew2dCQuHR",
          "type": "arrow"
        },
        {
          "id": "0-xrRdj6ax_Tt-x-N-imT",
          "type": "arrow"
        }
      ],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "index": "aP"
    },
    {
      "type": "text",
      "version": 670,
      "versionNonce": 1531066278,
      "isDeleted": false,
      "id": "RmXuFtswdyVsvIFbKOcSf",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 535.203369140625,
      "y": 3209.586181640625,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 118.3359375,
      "height": 20,
      "seed": 2097404981,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901199753,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Task Executer",
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "dUaJTi7XBWeU205ZumNxk",
      "originalText": "Task Executer",
      "lineHeight": 1.25,
      "baseline": 15,
      "index": "aQ",
      "autoResize": true
    },
    {
      "type": "rectangle",
      "version": 1215,
      "versionNonce": 751463610,
      "isDeleted": false,
      "id": "Qo1_wniN35w_GRi3dedl6",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 485.2110900878906,
      "y": 4004.843048095703,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 223.8717041015625,
      "height": 110.05657958984375,
      "seed": 807174651,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 3
      },
      "boundElements": [
        {
          "id": "HyoswqZNBlPw3IS0nZQjQ",
          "type": "text"
        },
        {
          "id": "PiS1jxMCt5hW139GvZlK-",
          "type": "arrow"
        },
        {
          "id": "0bSIUhJkltCBDDSqaW-bK",
          "type": "arrow"
        },
        {
          "id": "0Gh7pmdwVnI4aEOiZuS3O",
          "type": "arrow"
        }
      ],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "index": "aR"
    },
    {
      "type": "text",
      "version": 1273,
      "versionNonce": 1672565094,
      "isDeleted": false,
      "id": "HyoswqZNBlPw3IS0nZQjQ",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 565.5389633178711,
      "y": 4049.871337890625,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 63.21595764160156,
      "height": 20,
      "seed": 1331752757,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901205454,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Watcher",
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "Qo1_wniN35w_GRi3dedl6",
      "originalText": "Watcher",
      "lineHeight": 1.25,
      "baseline": 15,
      "index": "aS",
      "autoResize": true
    },
    {
      "type": "rectangle",
      "version": 871,
      "versionNonce": 1762706810,
      "isDeleted": false,
      "id": "xvkNOcmYdo_XivmA8utN7",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 484.42279052734375,
      "y": 2156.1448974609375,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 223.8717041015625,
      "height": 110.05657958984375,
      "seed": 2021270747,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 3
      },
      "boundElements": [
        {
          "id": "danqvaWmRiKjTZ4oZvI9H",
          "type": "text"
        },
        {
          "id": "YeBvqbVVMpqcsBqEgP7Sn",
          "type": "arrow"
        },
        {
          "id": "tUYaS3Fojzc_b5YrdjBp-",
          "type": "arrow"
        },
        {
          "id": "u2Cyddt1UKKmZltkGRQK9",
          "type": "arrow"
        },
        {
          "id": "VKJ6_tKE3zNqOp1ZdiVvL",
          "type": "arrow"
        }
      ],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "index": "aT"
    },
    {
      "type": "text",
      "version": 878,
      "versionNonce": 23324454,
      "isDeleted": false,
      "id": "danqvaWmRiKjTZ4oZvI9H",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 537.190673828125,
      "y": 2201.1731872558594,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 118.3359375,
      "height": 20,
      "seed": 2135648853,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Task Executer",
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "xvkNOcmYdo_XivmA8utN7",
      "originalText": "Task Executer",
      "lineHeight": 1.25,
      "baseline": 14,
      "index": "aU",
      "autoResize": true
    },
    {
      "type": "ellipse",
      "version": 556,
      "versionNonce": 613287482,
      "isDeleted": false,
      "id": "5iqQb8OEMZ2WFalAS53BQ",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 808.4902954101562,
      "y": 2900.5065307617188,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 161.0845947265625,
      "height": 152.1905517578125,
      "seed": 719252891,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [
        {
          "id": "Goe4AgmgEsyVinDUGpBPr",
          "type": "text"
        },
        {
          "id": "DQuKWKJfFG_oNsw3to9ds",
          "type": "arrow"
        },
        {
          "id": "Xh730Cy3heIEVFSlupc1e",
          "type": "arrow"
        }
      ],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "index": "aV"
    },
    {
      "type": "text",
      "version": 489,
      "versionNonce": 1469630202,
      "isDeleted": false,
      "id": "Goe4AgmgEsyVinDUGpBPr",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 849.8806064460648,
      "y": 2966.794321050389,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 78.39996337890625,
      "height": 20,
      "seed": 688164245,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901193714,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Job Store",
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "5iqQb8OEMZ2WFalAS53BQ",
      "originalText": "Job Store",
      "lineHeight": 1.25,
      "baseline": 15,
      "index": "aW",
      "autoResize": true
    },
    {
      "type": "ellipse",
      "version": 938,
      "versionNonce": 673525498,
      "isDeleted": false,
      "id": "DQOrMQhoTAVcVKkQRXOUY",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 825.53955078125,
      "y": 4318.5166015625,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 161.0845947265625,
      "height": 152.1905517578125,
      "seed": 114330267,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [
        {
          "id": "zt-d94CxaGxjwDcMHjaVg",
          "type": "text"
        },
        {
          "id": "0bSIUhJkltCBDDSqaW-bK",
          "type": "arrow"
        },
        {
          "id": "koUmOqeo5bzFuQebc_Jet",
          "type": "arrow"
        },
        {
          "id": "ibudfWfRAolSRFV9SOF6g",
          "type": "arrow"
        }
      ],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "index": "aX"
    },
    {
      "type": "text",
      "version": 861,
      "versionNonce": 709163558,
      "isDeleted": false,
      "id": "zt-d94CxaGxjwDcMHjaVg",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 866.9298618171586,
      "y": 4384.80439185117,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 78.39996337890625,
      "height": 20,
      "seed": 1950826645,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901221832,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Job Store",
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "DQOrMQhoTAVcVKkQRXOUY",
      "originalText": "Job Store",
      "lineHeight": 1.25,
      "baseline": 15,
      "index": "aY",
      "autoResize": true
    },
    {
      "type": "ellipse",
      "version": 762,
      "versionNonce": 676937658,
      "isDeleted": false,
      "id": "qDLkMcp4l-PY3z6aXn8uF",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 810.4776000976562,
      "y": 1891.8114318847656,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 161.0845947265625,
      "height": 152.1905517578125,
      "seed": 2100744571,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [
        {
          "id": "yZJGpnHa4LX3v4ZJ4oKgg",
          "type": "text"
        },
        {
          "id": "tUYaS3Fojzc_b5YrdjBp-",
          "type": "arrow"
        },
        {
          "id": "u2Cyddt1UKKmZltkGRQK9",
          "type": "arrow"
        }
      ],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "index": "aZ"
    },
    {
      "type": "text",
      "version": 697,
      "versionNonce": 346501350,
      "isDeleted": false,
      "id": "yZJGpnHa4LX3v4ZJ4oKgg",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 851.8679111335648,
      "y": 1958.0992221734361,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 78.39996337890625,
      "height": 20,
      "seed": 863328181,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Job Store",
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "qDLkMcp4l-PY3z6aXn8uF",
      "originalText": "Job Store",
      "lineHeight": 1.25,
      "baseline": 14,
      "index": "aa",
      "autoResize": true
    },
    {
      "type": "arrow",
      "version": 1294,
      "versionNonce": 1364015226,
      "isDeleted": false,
      "id": "IH5yRMmopeaEOdQoiJrsZ",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 382.0680336335396,
      "y": 2983.2430512390256,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 97.3138467390603,
      "height": 0.440964296446964,
      "seed": 1099203131,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "DMHHrhtoYE_re9aPvlEKq",
        "focus": 0.05089933336146863,
        "gap": 2.5536567781123267
      },
      "endBinding": {
        "elementId": "rMkVQNUtJt37JI5lexOCb",
        "focus": -0.011055477440072929,
        "gap": 1.109241840185632
      },
      "lastCommittedPoint": null,
      "startArrowhead": "arrow",
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          97.3138467390603,
          -0.440964296446964
        ]
      ],
      "index": "ab"
    },
    {
      "type": "arrow",
      "version": 2330,
      "versionNonce": 1402469690,
      "isDeleted": false,
      "id": "PiS1jxMCt5hW139GvZlK-",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 389.64987154472055,
      "y": 4408.180914603046,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 98.77689679537536,
      "height": 0.7028194448384966,
      "seed": 1195015995,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [],
      "updated": 1741901220230,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "WfrJ2P5FsgurwWGPuTSzV",
        "focus": 0.05088367477504905,
        "gap": 1.9552615823228052
      },
      "endBinding": {
        "elementId": "P9dipwvq4fDgU8r16lwbd",
        "focus": -0.011042321756128076,
        "gap": 1
      },
      "lastCommittedPoint": null,
      "startArrowhead": "arrow",
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          98.77689679537536,
          -0.7028194448384966
        ]
      ],
      "index": "ac"
    },
    {
      "type": "arrow",
      "version": 1918,
      "versionNonce": 1388583226,
      "isDeleted": false,
      "id": "YeBvqbVVMpqcsBqEgP7Sn",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 384.3754341218623,
      "y": 1974.8286063842152,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 96.87799493638954,
      "height": 0.438989294018711,
      "seed": 1794435611,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "2WTIY4D4jinfyR6zMekDb",
        "focus": 0.050899333361457764,
        "gap": 2.5536567781123267
      },
      "endBinding": {
        "elementId": "Dam31m8m7z7D31y64x585",
        "focus": -0.0110554774400721,
        "gap": 1.109241840185632
      },
      "lastCommittedPoint": null,
      "startArrowhead": "arrow",
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          96.87799493638954,
          -0.438989294018711
        ]
      ],
      "index": "ad"
    },
    {
      "type": "arrow",
      "version": 1315,
      "versionNonce": 1041280870,
      "isDeleted": false,
      "id": "DQuKWKJfFG_oNsw3to9ds",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 705.1428880469736,
      "y": 2979.695753846396,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 101.98640287936473,
      "height": 0.041691545234698424,
      "seed": 1755845365,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "rMkVQNUtJt37JI5lexOCb",
        "focus": -0.03809592735483335,
        "gap": 1
      },
      "endBinding": {
        "elementId": "5iqQb8OEMZ2WFalAS53BQ",
        "focus": -0.04160868548843683,
        "gap": 1.4280842542371672
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          101.98640287936473,
          0.041691545234698424
        ]
      ],
      "index": "ae"
    },
    {
      "type": "arrow",
      "version": 2347,
      "versionNonce": 1893221882,
      "isDeleted": false,
      "id": "0bSIUhJkltCBDDSqaW-bK",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 714.090107910606,
      "y": 4401.54176498843,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 110.18306234935005,
      "height": 2.0631934183566045,
      "seed": 1058825717,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [],
      "updated": 1741901220231,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "P9dipwvq4fDgU8r16lwbd",
        "focus": -0.042075860576326105,
        "gap": 1
      },
      "endBinding": {
        "elementId": "DQOrMQhoTAVcVKkQRXOUY",
        "focus": -0.04027875908582627,
        "gap": 1.4280613559875128
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          110.18306234935005,
          -2.0631934183566045
        ]
      ],
      "index": "af"
    },
    {
      "type": "arrow",
      "version": 1941,
      "versionNonce": 206688934,
      "isDeleted": false,
      "id": "tUYaS3Fojzc_b5YrdjBp-",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 707.234375,
      "y": 1971.4350031303015,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 101.89086933544877,
      "height": 0.1968191404416757,
      "seed": 448436501,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "Dam31m8m7z7D31y64x585",
        "focus": -0.032401141125154624,
        "gap": 1
      },
      "endBinding": {
        "elementId": "qDLkMcp4l-PY3z6aXn8uF",
        "focus": -0.041701359645036365,
        "gap": 1.428080171317092
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          101.89086933544877,
          -0.1968191404416757
        ]
      ],
      "index": "ag"
    },
    {
      "type": "text",
      "version": 442,
      "versionNonce": 2019988154,
      "isDeleted": false,
      "id": "KQrIhS0ACFi_TB6Opv0Nk",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 849.0999755859375,
      "y": 3069.3799438476562,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 81.23196411132812,
      "height": 20,
      "seed": 1674478299,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [
        {
          "id": "ziesdlYCKzkZew2dCQuHR",
          "type": "arrow"
        }
      ],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "DynamoDB",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "DynamoDB",
      "lineHeight": 1.25,
      "baseline": 14,
      "index": "ah",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 843,
      "versionNonce": 353144294,
      "isDeleted": false,
      "id": "BUAnG3KHcRol4p3R_2VtE",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 869.5162963867188,
      "y": 4481.193542480469,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 81.23196411132812,
      "height": 20,
      "seed": 465362907,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "DynamoDB",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "DynamoDB",
      "lineHeight": 1.25,
      "baseline": 14,
      "index": "ai",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 649,
      "versionNonce": 2050501498,
      "isDeleted": false,
      "id": "zhr6zf0SVwkJPsLZ2a-FS",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 851.0872802734375,
      "y": 2060.9669494628906,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 81.23196411132812,
      "height": 20,
      "seed": 1990651579,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "DynamoDB",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "DynamoDB",
      "lineHeight": 1.25,
      "baseline": 14,
      "index": "aj",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 549,
      "versionNonce": 88989990,
      "isDeleted": false,
      "id": "3iOYceMJ2peTpjbaNtDoA",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1006.5587158203125,
      "y": 1900.0243225097656,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 568.2396240234375,
      "height": 140,
      "seed": 1633008885,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Job\n- jobId (PK)\n- userId\n- taskId\n- schedule (contains CRON expression for recurring, DATE for one time)\n- parameters,\n- ...",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Job\n- jobId (PK)\n- userId\n- taskId\n- schedule (contains CRON expression for recurring, DATE for one time)\n- parameters,\n- ...",
      "lineHeight": 1.25,
      "baseline": 134,
      "index": "ak",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 780,
      "versionNonce": 668511290,
      "isDeleted": false,
      "id": "2PVWbMG_-t268nMXWT2mE",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 986.37646484375,
      "y": 2899.596435546875,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 568.2396240234375,
      "height": 140,
      "seed": 1752427605,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Job\n- jobId (PK)\n- userId\n- taskId\n- schedule (contains CRON expression for recurring, DATE for one time)\n- parameters,\n- ...",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Job\n- jobId (PK)\n- userId\n- taskId\n- schedule (contains CRON expression for recurring, DATE for one time)\n- parameters,\n- ...",
      "lineHeight": 1.25,
      "baseline": 134,
      "index": "al",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 1235,
      "versionNonce": 1619184742,
      "isDeleted": false,
      "id": "iVKHJCSmux8D4sMrgjqvk",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1015.9686279296875,
      "y": 4181.041564941406,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 568.2396240234375,
      "height": 140,
      "seed": 853925717,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Job\n- jobId (PK)\n- userId\n- taskId\n- schedule (contains CRON expression for recurring, DATE for one time)\n- parameters,\n- ...",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Job\n- jobId (PK)\n- userId\n- taskId\n- schedule (contains CRON expression for recurring, DATE for one time)\n- parameters,\n- ...",
      "lineHeight": 1.25,
      "baseline": 134,
      "index": "am",
      "autoResize": true
    },
    {
      "type": "arrow",
      "version": 1674,
      "versionNonce": 1999312122,
      "isDeleted": false,
      "id": "Xh730Cy3heIEVFSlupc1e",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 646.862568097172,
      "y": 3098.2908179640735,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 187.87687938819636,
      "height": 61.88741789030064,
      "seed": 2052026235,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [
        {
          "type": "text",
          "id": "8JHMB18KDd2WclB0wRoGk"
        }
      ],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "Q3P25qUOJOQhVa250YeML",
        "focus": 0.17877298498115785,
        "gap": 3.51852604388705
      },
      "endBinding": {
        "elementId": "5iqQb8OEMZ2WFalAS53BQ",
        "focus": -0.22100671677823738,
        "gap": 2.756734076083031
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          97.72947291845298,
          -8.13920663594854
        ],
        [
          187.87687938819636,
          -61.88741789030064
        ]
      ],
      "index": "an"
    },
    {
      "type": "text",
      "version": 33,
      "versionNonce": 880299942,
      "isDeleted": false,
      "id": "8JHMB18KDd2WclB0wRoGk",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 697.064697265625,
      "y": 3060.151611328125,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 95.0546875,
      "height": 60,
      "seed": 211323163,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "query\nto-be-executed\njobs",
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "Xh730Cy3heIEVFSlupc1e",
      "originalText": "query\nto-be-executed\njobs",
      "lineHeight": 1.25,
      "baseline": 55,
      "index": "ao",
      "autoResize": true
    },
    {
      "type": "arrow",
      "version": 2302,
      "versionNonce": 1569392907,
      "isDeleted": false,
      "id": "u2Cyddt1UKKmZltkGRQK9",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 649.2053851747464,
      "y": 2089.84821543022,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 184.65838263602063,
      "height": 64.5802634250806,
      "seed": 1586540149,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [
        {
          "id": "A-9e5hiRaC9cnUPXp4jZp",
          "type": "text"
        }
      ],
      "updated": 1742598243919,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "WuSXn__mOfw0YRRwKmz3v",
        "focus": 0.17877298498114774,
        "gap": 3.51852604388705
      },
      "endBinding": {
        "elementId": "qDLkMcp4l-PY3z6aXn8uF",
        "focus": -0.22100671677823241,
        "gap": 2.756734076083031
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          97.37396052837857,
          -8.109598486860705
        ],
        [
          184.65838263602063,
          -64.5802634250806
        ]
      ],
      "index": "ap"
    },
    {
      "type": "text",
      "version": 36,
      "versionNonce": 1745240011,
      "isDeleted": false,
      "id": "A-9e5hiRaC9cnUPXp4jZp",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 687.3553848266602,
      "y": 2051.7386169433594,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 118.44792175292969,
      "height": 60,
      "seed": 317677403,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1742598242937,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "query\nto-be-executed\njobs",
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "u2Cyddt1UKKmZltkGRQK9",
      "originalText": "query\nto-be-executed\njobs",
      "lineHeight": 1.25,
      "baseline": 54,
      "index": "aq",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 388,
      "versionNonce": 1485938298,
      "isDeleted": false,
      "id": "_9ANPvFCgKzvSWI-kszfP",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 237.1328125,
      "y": 1433.4177856445312,
      "strokeColor": "#1971c2",
      "backgroundColor": "transparent",
      "width": 1735.9029541015625,
      "height": 440,
      "seed": 1217607413,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Step-by-Step Process\n1. Job Request:\n    - A user sends a request to the /jobs endpoint with the task ID (what to run), schedule (when to run), and parameters (inputs needed).\n\n2. Job Definition Storage:\n    - The job is stored in a Jobs table with a status of PENDING. This table holds the definition of the job.\n    - Note: A CRON expression (e.g., \"0 10 * * *\") is a string that defines recurring schedules (here, every day at 10 AM). Alternatively, a specific date can be provided for one-time jobs.\n\n3. Handling Recurring Jobs:\n    - One-time jobs work well with a single record. However, recurring jobs (like daily reports) require multiple execution instances.\n    - To avoid scanning every job for its next run time, we split the job definition from its execution instances.\n\n4. Separation of Concerns:\n    - Jobs Table: Holds the job definition (e.g., task details, schedule, parameters).\n    - Executions Table: Stores each individual instance when the job should run. Each row is an execution instance with a specific time.\n\n5. Efficient Querying with Time Buckets:\n    - The Executions table uses a time bucket (Unix timestamp rounded down to the nearest hour) as the partition key. This limits queries to 1-2 partitions when searching for jobs due to run in the next few minutes.\n\n6. Job Execution:\n    - Worker nodes query the Executions table for PENDING jobs in the current or next time bucket.\n    - Once a job is executed, if its recurring, the system calculates the next execution time and adds a new entry to the Executions table while keeping the job definition intact.",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Step-by-Step Process\n1. Job Request:\n    - A user sends a request to the /jobs endpoint with the task ID (what to run), schedule (when to run), and parameters (inputs needed).\n\n2. Job Definition Storage:\n    - The job is stored in a Jobs table with a status of PENDING. This table holds the definition of the job.\n    - Note: A CRON expression (e.g., \"0 10 * * *\") is a string that defines recurring schedules (here, every day at 10 AM). Alternatively, a specific date can be provided for one-time jobs.\n\n3. Handling Recurring Jobs:\n    - One-time jobs work well with a single record. However, recurring jobs (like daily reports) require multiple execution instances.\n    - To avoid scanning every job for its next run time, we split the job definition from its execution instances.\n\n4. Separation of Concerns:\n    - Jobs Table: Holds the job definition (e.g., task details, schedule, parameters).\n    - Executions Table: Stores each individual instance when the job should run. Each row is an execution instance with a specific time.\n\n5. Efficient Querying with Time Buckets:\n    - The Executions table uses a time bucket (Unix timestamp rounded down to the nearest hour) as the partition key. This limits queries to 1-2 partitions when searching for jobs due to run in the next few minutes.\n\n6. Job Execution:\n    - Worker nodes query the Executions table for PENDING jobs in the current or next time bucket.\n    - Once a job is executed, if its recurring, the system calculates the next execution time and adds a new entry to the Executions table while keeping the job definition intact.",
      "lineHeight": 1.25,
      "baseline": 434,
      "index": "ar",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 430,
      "versionNonce": 1773739558,
      "isDeleted": false,
      "id": "Zrb115adhFsRe-l_Chk77",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1008.43798828125,
      "y": 2056.114776611328,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 699.8075561523438,
      "height": 160,
      "seed": 2136448155,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Execution\n- timeBucket (PK) - unix timestamp rounded down to the hour\n- executionTime(SK) - <epoch timestamp in ms>::<jobId> - exact execution time for jobId\n- jobId\n- userId\n- status - Pending | Completed | Failed\n- attempt (count of retries)\n- ...",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Execution\n- timeBucket (PK) - unix timestamp rounded down to the hour\n- executionTime(SK) - <epoch timestamp in ms>::<jobId> - exact execution time for jobId\n- jobId\n- userId\n- status - Pending | Completed | Failed\n- attempt (count of retries)\n- ...",
      "lineHeight": 1.25,
      "baseline": 154,
      "index": "as",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 674,
      "versionNonce": 9158458,
      "isDeleted": false,
      "id": "P_jAFHKShmxgqkJ-wevn3",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 988.2557373046875,
      "y": 3055.6868896484375,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 699.8075561523438,
      "height": 160,
      "seed": 927582235,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Execution\n- timeBucket (PK) - unix timestamp rounded down to the hour\n- executionTime(SK) - <epoch timestamp in ms>::<jobId> - exact execution time for jobId\n- jobId\n- userId\n- status - Pending | InProgress | Completed | Failed\n- attempt (count of retries)\n- ...",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Execution\n- timeBucket (PK) - unix timestamp rounded down to the hour\n- executionTime(SK) - <epoch timestamp in ms>::<jobId> - exact execution time for jobId\n- jobId\n- userId\n- status - Pending | InProgress | Completed | Failed\n- attempt (count of retries)\n- ...",
      "lineHeight": 1.25,
      "baseline": 154,
      "index": "at",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 1129,
      "versionNonce": 1853778278,
      "isDeleted": false,
      "id": "g3ByvriN8iRZiMZ5DzKwz",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1017.847900390625,
      "y": 4337.132019042969,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 699.8075561523438,
      "height": 160,
      "seed": 50652443,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Execution\n- timeBucket (PK) - unix timestamp rounded down to the hour\n- executionTime(SK) - <epoch timestamp in ms>::<jobId> - exact execution time for jobId\n- jobId\n- userId\n- status - Pending | InProgress | Completed | Failed\n- attempt (count of retries)\n- ...",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Execution\n- timeBucket (PK) - unix timestamp rounded down to the hour\n- executionTime(SK) - <epoch timestamp in ms>::<jobId> - exact execution time for jobId\n- jobId\n- userId\n- status - Pending | InProgress | Completed | Failed\n- attempt (count of retries)\n- ...",
      "lineHeight": 1.25,
      "baseline": 154,
      "index": "au",
      "autoResize": true
    },
    {
      "type": "arrow",
      "version": 863,
      "versionNonce": 29836346,
      "isDeleted": false,
      "id": "ziesdlYCKzkZew2dCQuHR",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 707.2030076758798,
      "y": 3216.9364282807774,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 176.39440443349554,
      "height": 120.86831304640236,
      "seed": 1953046043,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [
        {
          "type": "text",
          "id": "kCSC0jAGLkuloTSj-CXhj"
        }
      ],
      "updated": 1741901199506,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "dUaJTi7XBWeU205ZumNxk",
        "focus": 0.45561090729992987,
        "gap": 1
      },
      "endBinding": {
        "elementId": "KQrIhS0ACFi_TB6Opv0Nk",
        "focus": -0.1715888715994874,
        "gap": 6.68817138671875
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          105.8215284569327,
          -47.44277593702736
        ],
        [
          176.39440443349554,
          -120.86831304640236
        ]
      ],
      "index": "av"
    },
    {
      "type": "text",
      "version": 25,
      "versionNonce": 1980593638,
      "isDeleted": false,
      "id": "kCSC0jAGLkuloTSj-CXhj",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 770.632568359375,
      "y": 3149.49365234375,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 84.783935546875,
      "height": 40,
      "seed": 1040107227,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901198748,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "update job\nstatus",
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "ziesdlYCKzkZew2dCQuHR",
      "originalText": "update job\nstatus",
      "lineHeight": 1.25,
      "baseline": 35,
      "index": "aw",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 235,
      "versionNonce": 1761392826,
      "isDeleted": false,
      "id": "HPi6VW_CL5LEdgCDNcJlf",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 237.53973388671875,
      "y": 2380.1089477539062,
      "strokeColor": "#1971c2",
      "backgroundColor": "transparent",
      "width": 1354.1751708984375,
      "height": 480,
      "seed": 2111723771,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Step-by-Step Process for Monitoring Job Status:\n\n1. Status Updates:\n    - When a job runs, its corresponding execution record in the Executions table is updated with a new status (e.g., IN_PROGRESS, COMPLETED, FAILED, RETRYING).\n\n2. Initial Query Challenge:\n    - Without any index, finding all job statuses for a user would require:\n        - Scanning the Jobs table to obtain all job IDs for that user.\n        - Querying the Executions table for each job, which is inefficient.\n\n3. Introducing a Global Secondary Index (GSI):\n    - Design Change: Add a GSI on the Executions table.\n        - Partition Key: user_id\n        - Sort Key: execution_time\n    - Purpose: This index lets you directly query all execution records associated with a user and sort them by the time they were scheduled.\n\n4. Efficient Query Flow:\n    - When a user wants to monitor their jobs:\n        - They query the GSI using their user_id.\n        - The query returns all execution records, sorted by execution_time, allowing for quick filtering by status and supporting pagination.\n\n5. Benefits:\n    - Scalability: Fast, efficient retrieval of user-specific job statuses without full table scans.\n    - Usability: Simplifies monitoring by enabling direct access to the necessary data with one query.",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Step-by-Step Process for Monitoring Job Status:\n\n1. Status Updates:\n    - When a job runs, its corresponding execution record in the Executions table is updated with a new status (e.g., IN_PROGRESS, COMPLETED, FAILED, RETRYING).\n\n2. Initial Query Challenge:\n    - Without any index, finding all job statuses for a user would require:\n        - Scanning the Jobs table to obtain all job IDs for that user.\n        - Querying the Executions table for each job, which is inefficient.\n\n3. Introducing a Global Secondary Index (GSI):\n    - Design Change: Add a GSI on the Executions table.\n        - Partition Key: user_id\n        - Sort Key: execution_time\n    - Purpose: This index lets you directly query all execution records associated with a user and sort them by the time they were scheduled.\n\n4. Efficient Query Flow:\n    - When a user wants to monitor their jobs:\n        - They query the GSI using their user_id.\n        - The query returns all execution records, sorted by execution_time, allowing for quick filtering by status and supporting pagination.\n\n5. Benefits:\n    - Scalability: Fast, efficient retrieval of user-specific job statuses without full table scans.\n    - Usability: Simplifies monitoring by enabling direct access to the necessary data with one query.",
      "lineHeight": 1.25,
      "baseline": 474,
      "index": "ax",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 212,
      "versionNonce": 1020512230,
      "isDeleted": false,
      "id": "qsbMUxAUEKY9JmiOckLs7",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1725.0762939453125,
      "y": 3055.6868896484375,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 197.79188537597656,
      "height": 60,
      "seed": 1757727797,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "GSI for Execution table:\n- userId (PK)\n- executionTime (SK)",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "GSI for Execution table:\n- userId (PK)\n- executionTime (SK)",
      "lineHeight": 1.25,
      "baseline": 54,
      "index": "ay",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 670,
      "versionNonce": 2080941478,
      "isDeleted": false,
      "id": "2RFoSYQ3cKoS_bAsJI_PB",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1754.66845703125,
      "y": 4337.132019042969,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 197.79188537597656,
      "height": 60,
      "seed": 400769909,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901242831,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "GSI for Execution table:\n- userId (PK)\n- executionTime (SK)",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "GSI for Execution table:\n- userId (PK)\n- executionTime (SK)",
      "lineHeight": 1.25,
      "baseline": 54,
      "index": "az",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 121,
      "versionNonce": 1679678246,
      "isDeleted": false,
      "id": "lmZzsFGaKzkzOUFOh6QJk",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 241.7442626953125,
      "y": 3332.826171875,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 648.4476318359375,
      "height": 40,
      "seed": 356828693,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Deep Dive\n1. How can we ensure the system executes jobs within 2s of their scheduled time?",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Deep Dive\n1. How can we ensure the system executes jobs within 2s of their scheduled time?",
      "lineHeight": 1.25,
      "baseline": 34,
      "index": "b00",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 252,
      "versionNonce": 1503482426,
      "isDeleted": false,
      "id": "cEcyJihNY_ApiRzsecCCw",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 237.13275146484375,
      "y": 4562.831024169922,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 666.6236572265625,
      "height": 40,
      "seed": 1286122549,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Deep Dive\n2. How can we ensure the system is scalable to support up to 10k jobs per second?",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Deep Dive\n2. How can we ensure the system is scalable to support up to 10k jobs per second?",
      "lineHeight": 1.25,
      "baseline": 34,
      "index": "b01",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 307,
      "versionNonce": 390301286,
      "isDeleted": false,
      "id": "F3HAC38APhxmZR6PoWf10",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 237.53973388671875,
      "y": 5198.220184326172,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 666.6236572265625,
      "height": 40,
      "seed": 1666562677,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Deep Dive\n2. How can we ensure the system is scalable to support up to 10k jobs per second?",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Deep Dive\n2. How can we ensure the system is scalable to support up to 10k jobs per second?",
      "lineHeight": 1.25,
      "baseline": 34,
      "index": "b02",
      "autoResize": true
    },
    {
      "type": "rectangle",
      "version": 149,
      "versionNonce": 359332602,
      "isDeleted": false,
      "id": "Q3P25qUOJOQhVa250YeML",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 554.1079711914062,
      "y": 3078.0150756835938,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 89.59158325195312,
      "height": 40.046630859375,
      "seed": 597454965,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 3
      },
      "boundElements": [
        {
          "type": "text",
          "id": "z1hx-g-ym1VgvZ_e1lh4W"
        },
        {
          "id": "Xh730Cy3heIEVFSlupc1e",
          "type": "arrow"
        },
        {
          "id": "0-xrRdj6ax_Tt-x-N-imT",
          "type": "arrow"
        }
      ],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "index": "b03"
    },
    {
      "type": "text",
      "version": 113,
      "versionNonce": 118606246,
      "isDeleted": false,
      "id": "z1hx-g-ym1VgvZ_e1lh4W",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 584.6889190673828,
      "y": 3088.0383911132812,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 28.4296875,
      "height": 20,
      "seed": 639828283,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "cron",
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "Q3P25qUOJOQhVa250YeML",
      "originalText": "cron",
      "lineHeight": 1.25,
      "baseline": 15,
      "index": "b04",
      "autoResize": true
    },
    {
      "type": "rectangle",
      "version": 785,
      "versionNonce": 50695098,
      "isDeleted": false,
      "id": "EWKvQWV1QZciqs9V2CPLD",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 642.2266845703125,
      "y": 4010.8190307617188,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 55.107147216796875,
      "height": 40.046630859375,
      "seed": 1031576155,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 3
      },
      "boundElements": [
        {
          "id": "feXwPe3LLMVhYkHRS6s6x",
          "type": "text"
        },
        {
          "id": "koUmOqeo5bzFuQebc_Jet",
          "type": "arrow"
        }
      ],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "index": "b05"
    },
    {
      "type": "text",
      "version": 741,
      "versionNonce": 1119200486,
      "isDeleted": false,
      "id": "feXwPe3LLMVhYkHRS6s6x",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 655.5654144287109,
      "y": 4020.8423461914062,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 28.4296875,
      "height": 20,
      "seed": 1509231829,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "cron",
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "EWKvQWV1QZciqs9V2CPLD",
      "originalText": "cron",
      "lineHeight": 1.25,
      "baseline": 15,
      "index": "b06",
      "autoResize": true
    },
    {
      "type": "rectangle",
      "version": 354,
      "versionNonce": 680526970,
      "isDeleted": false,
      "id": "WuSXn__mOfw0YRRwKmz3v",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 556.0952758789062,
      "y": 2069.602081298828,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 89.59158325195312,
      "height": 40.046630859375,
      "seed": 39146805,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 3
      },
      "boundElements": [
        {
          "id": "_bnjf5yvhGGRvAJknAfIg",
          "type": "text"
        },
        {
          "id": "u2Cyddt1UKKmZltkGRQK9",
          "type": "arrow"
        },
        {
          "id": "VKJ6_tKE3zNqOp1ZdiVvL",
          "type": "arrow"
        }
      ],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "index": "b07"
    },
    {
      "type": "text",
      "version": 321,
      "versionNonce": 1807489062,
      "isDeleted": false,
      "id": "_bnjf5yvhGGRvAJknAfIg",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 586.6762237548828,
      "y": 2079.6253967285156,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 28.4296875,
      "height": 20,
      "seed": 2017297563,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "cron",
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "WuSXn__mOfw0YRRwKmz3v",
      "originalText": "cron",
      "lineHeight": 1.25,
      "baseline": 15,
      "index": "b08",
      "autoResize": true
    },
    {
      "type": "arrow",
      "version": 115,
      "versionNonce": 1338860858,
      "isDeleted": false,
      "id": "0-xrRdj6ax_Tt-x-N-imT",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 599.464353051779,
      "y": 3118.478911842663,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 0.8990782866677591,
      "height": 45.63455837147603,
      "seed": 1347410203,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "Q3P25qUOJOQhVa250YeML",
        "focus": -0.021310702427787258,
        "gap": 1
      },
      "endBinding": {
        "elementId": "dUaJTi7XBWeU205ZumNxk",
        "focus": 0.027428089221222692,
        "gap": 1
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          -0.8990782866677591,
          45.63455837147603
        ]
      ],
      "index": "b09"
    },
    {
      "type": "arrow",
      "version": 739,
      "versionNonce": 1779573606,
      "isDeleted": false,
      "id": "VKJ6_tKE3zNqOp1ZdiVvL",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 601.4536389798704,
      "y": 2110.0659174578973,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 0.8975424401214696,
      "height": 45.63455837147558,
      "seed": 1472128661,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "WuSXn__mOfw0YRRwKmz3v",
        "focus": -0.02134553686141557,
        "gap": 1
      },
      "endBinding": {
        "elementId": "xvkNOcmYdo_XivmA8utN7",
        "focus": 0.027485977125369706,
        "gap": 1
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          -0.8975424401214696,
          45.63455837147558
        ]
      ],
      "index": "b0A"
    },
    {
      "type": "rectangle",
      "version": 518,
      "versionNonce": 304131578,
      "isDeleted": false,
      "id": "Fhbim7EmAoKMeEbnSCGjP",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 501.5961608886719,
      "y": 4180.5106201171875,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 188.277587890625,
      "height": 50,
      "seed": 1526234965,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 3
      },
      "boundElements": [
        {
          "type": "text",
          "id": "XLsafZQnLYEQcxDYUqpRN"
        },
        {
          "id": "B5U2M-n5uOstuFF-Q4d-Z",
          "type": "arrow"
        },
        {
          "id": "0Gh7pmdwVnI4aEOiZuS3O",
          "type": "arrow"
        },
        {
          "id": "p6P0IdhLMUWDKJIvs3cFJ",
          "type": "arrow"
        }
      ],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "index": "b0B"
    },
    {
      "type": "text",
      "version": 524,
      "versionNonce": 1952039718,
      "isDeleted": false,
      "id": "XLsafZQnLYEQcxDYUqpRN",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 558.4709701538086,
      "y": 4185.5106201171875,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 74.52796936035156,
      "height": 40,
      "seed": 1740065045,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901212246,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Execution\nQueue",
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "Fhbim7EmAoKMeEbnSCGjP",
      "originalText": "Execution\nQueue",
      "lineHeight": 1.25,
      "baseline": 35,
      "index": "b0C",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 394,
      "versionNonce": 1686953658,
      "isDeleted": false,
      "id": "Cz6AkS3RfrCWZFQN3dPNl",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 313.594970703125,
      "y": 4033.4942016601562,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 168.43186950683594,
      "height": 60,
      "seed": 1115877045,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "- polls for Jobs that\nshould be executed\nsoon",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "- polls for Jobs that\nshould be executed\nsoon",
      "lineHeight": 1.25,
      "baseline": 54,
      "index": "b0D",
      "autoResize": true
    },
    {
      "type": "rectangle",
      "version": 731,
      "versionNonce": 507576806,
      "isDeleted": false,
      "id": "xZBbjtjg6xBNQqTOAL5Z7",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 779.5128173828125,
      "y": 4130.512634277344,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 132.12109375,
      "height": 93.8824462890625,
      "seed": 329246267,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 3
      },
      "boundElements": [
        {
          "type": "text",
          "id": "2cXSoQfYRwGj3BwmYTeo0"
        },
        {
          "id": "B5U2M-n5uOstuFF-Q4d-Z",
          "type": "arrow"
        },
        {
          "id": "koUmOqeo5bzFuQebc_Jet",
          "type": "arrow"
        },
        {
          "id": "ibudfWfRAolSRFV9SOF6g",
          "type": "arrow"
        }
      ],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "index": "b0E"
    },
    {
      "type": "text",
      "version": 676,
      "versionNonce": 599062394,
      "isDeleted": false,
      "id": "2cXSoQfYRwGj3BwmYTeo0",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 821.7803955078125,
      "y": 4167.453857421875,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 47.5859375,
      "height": 20,
      "seed": 993567797,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Worker",
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "xZBbjtjg6xBNQqTOAL5Z7",
      "originalText": "Worker",
      "lineHeight": 1.25,
      "baseline": 15,
      "index": "b0F",
      "autoResize": true
    },
    {
      "type": "arrow",
      "version": 1726,
      "versionNonce": 1473500454,
      "isDeleted": false,
      "id": "B5U2M-n5uOstuFF-Q4d-Z",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 778.0239321130801,
      "y": 4180.091232422155,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 86.7785737758926,
      "height": 24.405707818432347,
      "seed": 1597560309,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "xZBbjtjg6xBNQqTOAL5Z7",
        "focus": 0.24969878414305746,
        "gap": 1.48888526973235
      },
      "endBinding": {
        "elementId": "Fhbim7EmAoKMeEbnSCGjP",
        "focus": 0.5021354848366051,
        "gap": 1.3716095578906788
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          -86.7785737758926,
          24.405707818432347
        ]
      ],
      "index": "b0G"
    },
    {
      "type": "arrow",
      "version": 1245,
      "versionNonce": 534509626,
      "isDeleted": false,
      "id": "koUmOqeo5bzFuQebc_Jet",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 699.2783322820995,
      "y": 4034.308486382579,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 259.53341417103593,
      "height": 300.70350550028115,
      "seed": 854750997,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [
        {
          "type": "text",
          "id": "b8MqEe9TB3tSNprtV0Ar2"
        }
      ],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "EWKvQWV1QZciqs9V2CPLD",
        "focus": 0.004608593437124251,
        "gap": 1.9445004949901659
      },
      "endBinding": {
        "elementId": "DQOrMQhoTAVcVKkQRXOUY",
        "focus": 0.6607260603047754,
        "gap": 1.6199636500718921
      },
      "lastCommittedPoint": null,
      "startArrowhead": "arrow",
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          245.29783959290046,
          27.935837347889446
        ],
        [
          259.53341417103593,
          300.70350550028115
        ]
      ],
      "index": "b0H"
    },
    {
      "type": "text",
      "version": 9,
      "versionNonce": 1445609574,
      "isDeleted": false,
      "id": "b8MqEe9TB3tSNprtV0Ar2",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 885.3522109985352,
      "y": 4032.2443237304683,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 118.44792175292969,
      "height": 60,
      "seed": 965899285,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "query\nto-be-executed\njobs",
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "koUmOqeo5bzFuQebc_Jet",
      "originalText": "query\nto-be-executed\njobs",
      "lineHeight": 1.25,
      "baseline": 54,
      "index": "b0I",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 515,
      "versionNonce": 686088442,
      "isDeleted": false,
      "id": "7cJfKnqIdDTtwamtC9ySW",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 577.257080078125,
      "y": 4236.5299072265625,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 30.735992431640625,
      "height": 20,
      "seed": 2032011413,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "SQS",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "SQS",
      "lineHeight": 1.25,
      "baseline": 14,
      "index": "b0J",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 54,
      "versionNonce": 1829847974,
      "isDeleted": false,
      "id": "45l9enWInQeZJOwMc3LJd",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 244.40692138671875,
      "y": 3409.2119750976562,
      "strokeColor": "#1971c2",
      "backgroundColor": "transparent",
      "width": 998.0634155273438,
      "height": 340,
      "seed": 2059109781,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Step-by-Step Process:\n\n1. Phase 1  Database Query:\n    - Every 5 minutes, query the Executions table for jobs scheduled to run in the next ~5 minutes.\n    - This reduces the load on the database by batching queries.\n\n2. Phase 2  Message Queue:\n    - Push the retrieved jobs into a message queue, ordered by their execution_time.\n    - Workers then pull jobs from this queue in order, allowing for sub-second precision in execution.\n\n3. Handling New Jobs:\n    - For jobs created that need to run in less than 5 minutes, insert them directly into the priority-capable message queue.\n    - The queue must reorder messages by execution time so that these new, earlier jobs arent delayed behind later ones.\n\n4. Priority Queue Options:\n    - Consider systems like Redis Sorted Sets, RabbitMQ, or Amazon SQS (with proper configuration) \n        to ensure the queue can prioritize jobs based on their scheduled execution time.",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Step-by-Step Process:\n\n1. Phase 1  Database Query:\n    - Every 5 minutes, query the Executions table for jobs scheduled to run in the next ~5 minutes.\n    - This reduces the load on the database by batching queries.\n\n2. Phase 2  Message Queue:\n    - Push the retrieved jobs into a message queue, ordered by their execution_time.\n    - Workers then pull jobs from this queue in order, allowing for sub-second precision in execution.\n\n3. Handling New Jobs:\n    - For jobs created that need to run in less than 5 minutes, insert them directly into the priority-capable message queue.\n    - The queue must reorder messages by execution time so that these new, earlier jobs arent delayed behind later ones.\n\n4. Priority Queue Options:\n    - Consider systems like Redis Sorted Sets, RabbitMQ, or Amazon SQS (with proper configuration) \n        to ensure the queue can prioritize jobs based on their scheduled execution time.",
      "lineHeight": 1.25,
      "baseline": 334,
      "index": "b0K",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 81,
      "versionNonce": 441627066,
      "isDeleted": false,
      "id": "rCOqJp_dzrpJF2M-JTnIg",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1269.8583984375,
      "y": 3409.2119750976562,
      "strokeColor": "#2f9e44",
      "backgroundColor": "transparent",
      "width": 911.1676635742188,
      "height": 440,
      "seed": 1819208949,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "Redis Sorted Sets vs. Amazon SQS\n\nRedis Sorted Sets:\n- Approach: Use the execution timestamp as the score in a ZSET to implement a priority queue.\n- Pros:\n    - Sub-millisecond latency and atomic operations.\n    - Fine-grained control over job ordering.\n- Cons:\n    - Requires significant operational overhead (custom retry logic, failure handling, and managing replication).\n    - More complex to scale in a distributed environment.\n\nAmazon SQS:\n- Approach: \n    - Leverage native delayed message delivery to schedule jobs.\n    - Amazon SQS provides a fully managed queue service with native support for delayed message delivery. \n    - When scheduling a job, we simply send a message to SQS with a delay value (called a \"SQS Delivery Delay\"), \n        and SQS handles the rest.\n- Pros:\n    - Fully managed service with high availability and automatic scaling.\n    - Built-in features like visibility timeouts and dead-letter queues simplify failure handling.\n- Cons:\n    - May not offer the same low-latency performance as an in-memory solution like Redis.",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "Redis Sorted Sets vs. Amazon SQS\n\nRedis Sorted Sets:\n- Approach: Use the execution timestamp as the score in a ZSET to implement a priority queue.\n- Pros:\n    - Sub-millisecond latency and atomic operations.\n    - Fine-grained control over job ordering.\n- Cons:\n    - Requires significant operational overhead (custom retry logic, failure handling, and managing replication).\n    - More complex to scale in a distributed environment.\n\nAmazon SQS:\n- Approach: \n    - Leverage native delayed message delivery to schedule jobs.\n    - Amazon SQS provides a fully managed queue service with native support for delayed message delivery. \n    - When scheduling a job, we simply send a message to SQS with a delay value (called a \"SQS Delivery Delay\"), \n        and SQS handles the rest.\n- Pros:\n    - Fully managed service with high availability and automatic scaling.\n    - Built-in features like visibility timeouts and dead-letter queues simplify failure handling.\n- Cons:\n    - May not offer the same low-latency performance as an in-memory solution like Redis.",
      "lineHeight": 1.25,
      "baseline": 434,
      "index": "b0L",
      "autoResize": true
    },
    {
      "type": "arrow",
      "version": 1001,
      "versionNonce": 1857412838,
      "isDeleted": false,
      "id": "0Gh7pmdwVnI4aEOiZuS3O",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 710.8453847166778,
      "y": 4072.339885272294,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 305.48748779296875,
      "height": 123.674296644283,
      "seed": 86345973,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "Qo1_wniN35w_GRi3dedl6",
        "focus": -0.18640962777456796,
        "gap": 1.7625905272246882
      },
      "endBinding": {
        "elementId": "Fhbim7EmAoKMeEbnSCGjP",
        "focus": -0.5020512363398687,
        "gap": 1.6546706634487691
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          38.77174174816594,
          9.491718731612309
        ],
        [
          -21.377367138552813,
          63.93837400504981
        ],
        [
          -266.7157460448028,
          69.78523679801856
        ],
        [
          -261.5618153807403,
          100.66029783317481
        ],
        [
          -210.9038944914547,
          123.674296644283
        ]
      ],
      "index": "b0M"
    },
    {
      "type": "arrow",
      "version": 990,
      "versionNonce": 949057210,
      "isDeleted": false,
      "id": "p6P0IdhLMUWDKJIvs3cFJ",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 714.8898118810204,
      "y": 4379.265441614244,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 314.17498779296875,
      "height": 162.518887092574,
      "seed": 117523413,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [
        {
          "type": "text",
          "id": "wjkekZ_Ne03Pz47Kt3-0s"
        }
      ],
      "updated": 1741901220231,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "P9dipwvq4fDgU8r16lwbd",
        "focus": 0.41335087110774993,
        "gap": 1.8957056306066988
      },
      "endBinding": {
        "elementId": "Fhbim7EmAoKMeEbnSCGjP",
        "focus": 0.6499245805484748,
        "gap": 1.5934215813888954
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          41.674702279135886,
          -30.647704797837832
        ],
        [
          -102.00376451773911,
          -77.70373507127533
        ],
        [
          -272.50028551383286,
          -116.56359835252533
        ],
        [
          -214.82893651093218,
          -162.518887092574
        ]
      ],
      "index": "b0N"
    },
    {
      "type": "text",
      "version": 65,
      "versionNonce": 996577146,
      "isDeleted": false,
      "id": "wjkekZ_Ne03Pz47Kt3-0s",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 504.37410736083984,
      "y": 4271.561706542969,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 209.0238800048828,
      "height": 60,
      "seed": 1842272283,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901220234,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "put jobs that need to run\nin less than 5 mins\ndirectly",
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "p6P0IdhLMUWDKJIvs3cFJ",
      "originalText": "put jobs that need to run in less than 5 mins\ndirectly",
      "lineHeight": 1.25,
      "baseline": 54,
      "index": "b0O",
      "autoResize": true
    },
    {
      "type": "arrow",
      "version": 481,
      "versionNonce": 646515514,
      "isDeleted": false,
      "id": "ibudfWfRAolSRFV9SOF6g",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 855.5811101896584,
      "y": 4224.976646702862,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 23.80479529987906,
      "height": 95.7034369386256,
      "seed": 48827323,
      "groupIds": [],
      "frameId": null,
      "roundness": {
        "type": 2
      },
      "boundElements": [
        {
          "type": "text",
          "id": "5NqVTiyThAJbQkLNEihXa"
        }
      ],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "startBinding": {
        "elementId": "xZBbjtjg6xBNQqTOAL5Z7",
        "focus": 0.023320269828199684,
        "gap": 1
      },
      "endBinding": {
        "elementId": "DQOrMQhoTAVcVKkQRXOUY",
        "focus": -0.08350788377776132,
        "gap": 2.0318263361798086
      },
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow",
      "points": [
        [
          0,
          0
        ],
        [
          23.80479529987906,
          95.7034369386256
        ]
      ],
      "index": "b0P"
    },
    {
      "type": "text",
      "version": 28,
      "versionNonce": 718003558,
      "isDeleted": false,
      "id": "5NqVTiyThAJbQkLNEihXa",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 824.7555415310042,
      "y": 4252.828365172175,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 85.4559326171875,
      "height": 40,
      "seed": 1240402619,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "update \njob status",
      "textAlign": "center",
      "verticalAlign": "middle",
      "containerId": "ibudfWfRAolSRFV9SOF6g",
      "originalText": "update \njob status",
      "lineHeight": 1.25,
      "baseline": 34,
      "index": "b0Q",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 103,
      "versionNonce": 511153146,
      "isDeleted": false,
      "id": "wts-WNMy9zf1feKH8zaYb",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 244.40692138671875,
      "y": 3832.8300170898438,
      "strokeColor": "#1971c2",
      "backgroundColor": "transparent",
      "width": 1098.79931640625,
      "height": 120,
      "seed": 1279567131,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "To recap, our new two-layered scheduler architecture looks like this:\n1. A user creates a new job which is written to the database.\n2. A cron job runs every 5 minutes to query the database for jobs that are due for execution in the next ~5 minutes.\n3. The cron job sends these jobs to SQS with appropriate delay values.\n4. Workers receive messages from SQS when they're ready for execution.\n5. If a new job is created with a scheduled time < 5 minutes from the current time, it's sent directly to SQS with the appropriate delay.",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "To recap, our new two-layered scheduler architecture looks like this:\n1. A user creates a new job which is written to the database.\n2. A cron job runs every 5 minutes to query the database for jobs that are due for execution in the next ~5 minutes.\n3. The cron job sends these jobs to SQS with appropriate delay values.\n4. Workers receive messages from SQS when they're ready for execution.\n5. If a new job is created with a scheduled time < 5 minutes from the current time, it's sent directly to SQS with the appropriate delay.",
      "lineHeight": 1.25,
      "baseline": 114,
      "index": "b0R",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 132,
      "versionNonce": 1433878694,
      "isDeleted": false,
      "id": "brU3HGJCU88earyzo9Y1w",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 237.13275146484375,
      "y": 4620.57177734375,
      "strokeColor": "#1971c2",
      "backgroundColor": "transparent",
      "width": 1045.9993896484375,
      "height": 520,
      "seed": 1434171643,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "1. Job Creation:\n    - Design for up to 10k jobs/sec (upper bound).\n    - Optionally buffer requests with a message queue (Kafka/RabbitMQ) if needed, but scaling the service and DB may be simpler.\n\n2. Jobs Database:\n    - Use DynamoDB or Cassandra for high write throughput.\n    - Jobs Table: Partition by job_id.\n    - Executions Table: Partition by execution_time for efficient querying.\n    - Archive old jobs (e.g., after 1 year) to cheaper storage like S3.\n\n3. Message Queue Capacity:\n    - SQS must handle ~3 million messages in a 5-minute window (10k/sec * 300 sec).\n    - Typical message size ~200 bytes.\n    - SQS auto-scales, but may require a quota increase (default limit ~3k messages/sec).\n    - Optionally use multiple queues for functional separation, not for scaling.\n\n4. Worker Layer:\n- Containers (e.g., ECS/Kubernetes):\n    - Cost-effective for steady workloads.\n    - Maintain state, ideal for long-running jobs.\n    - Scale via auto-scaling groups (pre-warming, spot instances, scaling on queue depth).\n\n- Lambda Functions:\n    - Serverless with minimal operational overhead.\n    - Fast auto-scaling, but cold starts may impact 2-second precision.\n    - Can be more expensive for continuous high-volume processing.",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "1. Job Creation:\n    - Design for up to 10k jobs/sec (upper bound).\n    - Optionally buffer requests with a message queue (Kafka/RabbitMQ) if needed, but scaling the service and DB may be simpler.\n\n2. Jobs Database:\n    - Use DynamoDB or Cassandra for high write throughput.\n    - Jobs Table: Partition by job_id.\n    - Executions Table: Partition by execution_time for efficient querying.\n    - Archive old jobs (e.g., after 1 year) to cheaper storage like S3.\n\n3. Message Queue Capacity:\n    - SQS must handle ~3 million messages in a 5-minute window (10k/sec * 300 sec).\n    - Typical message size ~200 bytes.\n    - SQS auto-scales, but may require a quota increase (default limit ~3k messages/sec).\n    - Optionally use multiple queues for functional separation, not for scaling.\n\n4. Worker Layer:\n- Containers (e.g., ECS/Kubernetes):\n    - Cost-effective for steady workloads.\n    - Maintain state, ideal for long-running jobs.\n    - Scale via auto-scaling groups (pre-warming, spot instances, scaling on queue depth).\n\n- Lambda Functions:\n    - Serverless with minimal operational overhead.\n    - Fast auto-scaling, but cold starts may impact 2-second precision.\n    - Can be more expensive for continuous high-volume processing.",
      "lineHeight": 1.25,
      "baseline": 514,
      "index": "b0S",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 72,
      "versionNonce": 1360463034,
      "isDeleted": false,
      "id": "PsZ5asv7sU5LfT6oGUOVB",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 820.1553955078125,
      "y": 4092.2857971191406,
      "strokeColor": "#1e1e1e",
      "backgroundColor": "transparent",
      "width": 58.2879638671875,
      "height": 40,
      "seed": 687719259,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "AWS \nLambda",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "AWS \nLambda",
      "lineHeight": 1.25,
      "baseline": 34,
      "index": "b0T",
      "autoResize": true
    },
    {
      "type": "text",
      "version": 164,
      "versionNonce": 861158374,
      "isDeleted": false,
      "id": "jeytMslIzN2euXNBgDpEy",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 237.53973388671875,
      "y": 5269.9549560546875,
      "strokeColor": "#1971c2",
      "backgroundColor": "transparent",
      "width": 939.6954345703125,
      "height": 580,
      "seed": 655530805,
      "groupIds": [],
      "frameId": null,
      "roundness": null,
      "boundElements": [],
      "updated": 1741901183582,
      "link": null,
      "locked": false,
      "fontSize": 16,
      "fontFamily": 1,
      "text": "- Failure Types:\n    - Visible Failures: Occur due to errors in task code or incorrect input.\n    - Invisible Failures: Occur when the worker crashes or becomes unresponsive.\n\n- Handling Visible Failures:\n    - Wrap task code in try/catch to catch and log errors.\n    - Update the job's status in the Executions table to RETRYING, incrementing the retry count.\n    - Use exponential backoff when re-queuing the job to SQS.\n    - After 3 failed attempts, mark the job as FAILED.\n\n- Handling Invisible Failures:\n    - Utilize SQS visibility timeouts:\n        - When a worker picks up a message, it becomes invisible to others.\n        - If the worker fails to complete within the timeout, SQS makes the message visible again.\n    - For long-running jobs, workers can extend the timeout via heartbeats (e.g., every 15 seconds for a 5-minute job).\n    - Failed messages are eventually routed to a dead-letter queue after exceeding retry limits.\n\n- Ensuring Idempotent Job Design:\n    - Design jobs so that executing them multiple times has the same effect as running them once.\n    - Approach:\n        - Use idempotency keys and conditional operations.\n        - Example: Instead of \"increment counter,\" design the job as \"set counter to X.\"\n        - For actions like sending a welcome email, first check if the email flag is already set.\n    - Benefit: \n        - Offloads idempotency concerns to the task's implementation, ensuring robustness even when jobs are retried.\n\n- General Considerations:\n    - Ensure that task code is idempotent so that multiple executions yield the same outcome.\n    - Leverage SQS's built-in retry and exponential backoff features to simplify the implementation.",
      "textAlign": "left",
      "verticalAlign": "top",
      "containerId": null,
      "originalText": "- Failure Types:\n    - Visible Failures: Occur due to errors in task code or incorrect input.\n    - Invisible Failures: Occur when the worker crashes or becomes unresponsive.\n\n- Handling Visible Failures:\n    - Wrap task code in try/catch to catch and log errors.\n    - Update the job's status in the Executions table to RETRYING, incrementing the retry count.\n    - Use exponential backoff when re-queuing the job to SQS.\n    - After 3 failed attempts, mark the job as FAILED.\n\n- Handling Invisible Failures:\n    - Utilize SQS visibility timeouts:\n        - When a worker picks up a message, it becomes invisible to others.\n        - If the worker fails to complete within the timeout, SQS makes the message visible again.\n    - For long-running jobs, workers can extend the timeout via heartbeats (e.g., every 15 seconds for a 5-minute job).\n    - Failed messages are eventually routed to a dead-letter queue after exceeding retry limits.\n\n- Ensuring Idempotent Job Design:\n    - Design jobs so that executing them multiple times has the same effect as running them once.\n    - Approach:\n        - Use idempotency keys and conditional operations.\n        - Example: Instead of \"increment counter,\" design the job as \"set counter to X.\"\n        - For actions like sending a welcome email, first check if the email flag is already set.\n    - Benefit: \n        - Offloads idempotency concerns to the task's implementation, ensuring robustness even when jobs are retried.\n\n- General Considerations:\n    - Ensure that task code is idempotent so that multiple executions yield the same outcome.\n    - Leverage SQS's built-in retry and exponential backoff features to simplify the implementation.",
      "lineHeight": 1.25,
      "baseline": 574,
      "index": "b0U",
      "autoResize": true
    }
  ],
  "appState": {
    "gridSize": 20,
    "gridStep": 5,
    "gridModeEnabled": false,
    "viewBackgroundColor": "#ffffff"
  },
  "files": {}
}